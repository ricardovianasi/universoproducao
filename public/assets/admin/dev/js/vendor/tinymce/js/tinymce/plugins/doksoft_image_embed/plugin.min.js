(function(){function ah(){return"tinymce";}function c(am){return F()!="3"&&am.inline;}function ag(am){return am.id.replace(/\[/,"_").replace(/\]/,"_");}function aj(an){if(F()=="3"||!c(an)){return an.getContainer();}var am=window.document.getElementById(an.theme.panel._id);return am;}function f(am){return am.getDoc();}function s(am){return tinymce.activeEditor.selection.getNode();}function n(){return tinymce.baseURL;}function V(){return a("doksoft_image_embed");}function a(am){return n()+"/plugins/"+am+"/";}function F(){return tinymce.majorVersion=="4"?4:3;}function U(an,am){return window["doksoft_image_embed_i18n"][am];}function u(an,am){return I(an,"doksoft_image_embed_"+am);}var W={};function I(an,am){if(typeof(W[am])!="undefined"){return an.getParam(am,W[am]);}else{return an.getParam(am);}}function ab(am,an){ai("doksoft_image_embed_"+am,an);}function ai(am,an){W[am]=an;}function A(an,am){if(F()==4){an.insertContent(am);}else{an.execCommand("mceInsertContent",false,am);}}function N(){if(F()==3){return"_3";}v=(tinymce.minorVersion.split("."))[0];if(v=="0"){return"_4.0";}return"";}var D={};var al=0;function o(ao,am){var an=ag(ao)+"$"+am;if(an in D){return D[an];}return null;}function L(ap,aI,aH,ay,au,aB,aG,av,ar,ao,aE){var aF=ag(ap)+"$"+aI;if(aF in D){return D[aF];}al++;var az="";var aw={};for(var aA=aB.length-1;aA>=0;aA--){var am=aB[aA];var at=ag(ap)+"_doksoft_image_embed_"+al+"_"+aA;var aq=null;if(am.type=="ok"){aq=-1;}else{if(am.type=="cancel"){aq=-2;}else{if(am.type=="custom"&&typeof(am.onclick)!="undefined"&&am.onclick!=null){aq=am.onclick;}}}aw[at]=aq;if(F()==3){var aC="border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);position: relative;"+"text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"background-color: #f0f0f0;"+"background-image: -moz-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#fff),to(#d9d9d9));"+"background-image: -webkit-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -o-linear-gradient(top,#fff,#d9d9d9);"+"background-image: linear-gradient(to bottom,#fff,#d9d9d9);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffd9d9d9', GradientType=0);";if(am.type=="ok"){aC="text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"min-width: 50px;"+"color: #fff;"+"border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);"+"background-color: #006dcc;"+"background-image: -moz-linear-gradient(top,#08c,#04c);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#08c),to(#04c));"+"background-image: -webkit-linear-gradient(top,#08c,#04c);"+"background-image: -o-linear-gradient(top,#08c,#04c);"+"background-image: linear-gradient(to bottom,#08c,#04c);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0044cc', GradientType=0);";}styleBtn="-moz-box-sizing: border-box;"+"-webkit-box-sizing: border-box;"+"box-sizing: border-box;"+"padding: 4px 10px;"+"font-size: 14px;"+"line-height: 20px;"+"cursor: pointer;"+"text-align: center;"+"overflow: visible;"+"-webkit-appearance: none;"+"background: none;"+"border: none;";if(am.type=="ok"){styleBtn+="color: #fff;text-shadow: 1px 1px #333;";}az+='<div tabindex="-1" style="'+aC+"position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center;"+'">'+'<button id="'+at+'" type="button" tabindex="-1" style="'+styleBtn+"height:100%"+'">'+B(am.title)+"</button>"+"</div>";}else{az+='<div class="mce-widget mce-btn '+(am.type=="ok"?"mce-primary":"")+' mce-abs-layout-item" tabindex="-1" style="position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center">'+'<button id="'+at+'" type="button" tabindex="-1" style="height: 100%;">'+B(am.title)+"</button>"+"</div>";}}if(F()==3){var ax='<div style="display: none; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+aF+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+ay+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div style="padding: 9px 15px;border-bottom: 1px solid #c5c5c5;position: relative;">'+'<div style="line-height: 20px;font-size: 20px;font-weight: 700;text-rendering: optimizelegibility;padding-right: 10px;">'+B(aH)+"</div>"+'<button style="position: absolute;right: 15px;top: 9px;font-size: 20px;font-weight: 700;line-height: 20px;color: #858585;cursor: pointer;height: 20px;overflow: hidden;background: none;border: none;padding-top: 0 !important; padding-right: 0 !important;padding-left: 0 !important" type="button" id="'+ag(ap)+"_doksoft_image_embed_"+al+'_close">×</button>'+"</div>"+'<div style="overflow:hidden">'+au+'<div hidefocus="1" tabindex="-1" '+'style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;'+"display: block;background-color: #fff;border-top: 1px solid #c5c5c5;-webkit-border-radius: 0 0 6px 6px;-moz-border-radius: 0 0 6px 6px;border-radius: 0 0 6px 6px;"+"border: 0 solid #9e9e9e;background-color: #f0f0f0;background-image: -moz-linear-gradient(top,#fdfdfd,#ddd);background-image: -webkit-gradient(linear,0 0,0 100%,from(#fdfdfd),to(#ddd));"+"background-image: -webkit-linear-gradient(top,#fdfdfd,#ddd);background-image: -o-linear-gradient(top,#fdfdfd,#ddd);"+"background-image: linear-gradient(to bottom,#fdfdfd,#ddd);background-repeat: repeat-x;"+'">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+az+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";
}else{var ax='<div style="display: none; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+aF+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+ay+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div  class="mce-window-head">'+'<div class="mce-title">'+B(aH)+"</div>"+'<button class="mce-close" type="button" id="'+ag(ap)+"_doksoft_image_embed_"+al+'_close" style="background:none;border:none">×</button>'+"</div>"+'<div class="mce-container-body mce-abs-layout">'+au+'<div class="mce-container mce-panel mce-foot" hidefocus="1" tabindex="-1" style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+az+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";}var an=ad(ax)[0];var aD={$:an,appendedToDOM:false,num:al,editor:ap,open:function(){if(!this.appendedToDOM){this.editor.getElement().parentNode.appendChild(this.$);var aL=this;for(var aM in aw){var aJ=aw[aM];if(aJ!=null){var aK=document.getElementById(aM);if(aJ===-1){aK.onclick=function(){aL.ok();};}else{if(aJ===-2){aK.onclick=function(){aL.cancel();};}else{aK.onclick=function(){aJ();};}}}}document.getElementById(ag(this.editor)+"_doksoft_image_embed_"+this.num+"_close").onclick=function(){aL.cancel();};this.appendedToDOM=true;if(aE!=null){aE(this.editor);}}if(ar!=null){ar(this.editor);}this.$.style.display="table";},close:function(){this.$.style.display="none";if(ao!=null){ao(this.editor);}},ok:function(){if(aG!=null){if(aG(this.editor)===false){return;}}aD.close();},cancel:function(){if(av!=null){if(av(this.editor)===false){return;}}this.close();}};D[aF]=aD;return aD;}var d={};var y=0;function w(an){var am=ag(an);if(am in d){return d[am];}return null;}function e(au,an,ar,ap,aw,av){var ax=ag(au);if(ax in d){return d[ax];}y++;var aq="";if(F()==3){aq="<div"+' style="margin-left:-11px;background: #FFF;border: 1px solid gray;z-index: 165535;padding:8px 12px 8px 8px;position:absolute'+(an!=null?(";width:"+an+"px"):"")+'">'+ar+"</div>";}else{aq="<div"+' class="mce-container mce-panel mce-floatpanel mce-popover mce-bottom mce-start"'+' style="z-index: 165535;padding:8px 12px 8px 8px'+(an!=null?(";width:"+an+"px"):"")+'">'+'<div class="mce-arrow" hidefocus="1" tabindex="-1" role="dialog"></div>'+ar+"</div>";}var at='<div style="z-index:165534;position:absolute;left:0;top:0;width:100%;height:100%;display:none" data-popup-id="'+ax+'">'+aq+"</div>";var ao=ad(at)[0];var am={$_root:ao,$_popup:ao.children[0],num:y,appendedToDOM:false,editor:au,open:function(){if(!this.appendedToDOM){this.$_root.onclick=(function(){return function(aI){d[this.getAttribute("data-popup-id")].close();aI.stopPropagation();};})();this.$_popup.onclick=function(aI){aI.stopPropagation();};aj(this.editor).appendChild(this.$_root);var aE=this;this.appendedToDOM=true;if(av!=null){av(this.editor);}}if(ap!=null){ap(this.editor);}var aC=aj(this.editor);var aH=aC.getElementsByClassName("mce_doksoft_image_embed");if(aH.length==0){aH=aC.getElementsByClassName("mce-doksoft_image_embed");}if(aH.length==0){console.log("Unable to find button with class 'mce_doksoft_image_embed' or 'mce-doksoft_image_embed' for editor "+ag(this.editor));}else{var ay=aH[0];var aG=ay.getBoundingClientRect();var aF=function(aJ,aI){var aL=0,aK=0;do{aL+=aJ.offsetTop||0;aK+=aJ.offsetLeft||0;aJ=aJ.offsetParent;}while(aJ&&aJ!=aI);return{top:aL,left:aK};};var az=aj(this.editor);var aA=aF(ay,az);this.$_popup.style.top=(aA.top+ay.offsetHeight)+"px";this.$_popup.style.left=(aA.left+ay.offsetWidth/2)+"px";this.$_popup.style.display="block";var aD=document.body;var aB=document.documentElement;this.$_root.style.height=Math.max(aD.scrollHeight,aD.offsetHeight,aB.clientHeight,aB.scrollHeight,aB.offsetHeight);this.$_root.style.display="block";}},close:function(){this.$_popup.style.display="none";this.$_root.style.display="none";if(aw!=null){aw(this.editor);}}};d[ax]=am;return am;}var H={};function G(aq,ax,au,av,ar,at,aw){var ao=(function(){var ay=aq;return function(az){at(ay);};})();var ap=aq;var an=function(ay,az){if(!(ag(ay) in H)){H[ag(ay)]={};}H[ag(ay)][ax]=az;if(ar){tinymce.DOM.remove(az.getEl("preview"));}az.off();if(at!=null){az.on("click",ao);}if(aw){aw(ay);}};var am={text:"",type:"button",icon:true,classes:"widget btn doksoft_image_embed btn-doksoft_image_embed-"+ag(aq),image:au,tooltip:av,title:av,id:"btn-doksoft_image_embed-"+ag(aq),onclick:ao,onPostRender:function(){an(ap,this);
}};if(ar){am.type=F()=="3"?"ColorSplitButton":"colorbutton";am.color="#FFFFFF";am.panel={};}if(F()=="3"&&ar){(function(){var ay=false;aq.onNodeChange.add(function(aF,aA,aB){if(ay){return;}ay=true;var aD=aj(aF);var aE=aD.getElementsByClassName("mce_"+ax);if(aE.length>0){var az=aE[0];var aG=az.parentNode;var aC=aG.nextSibling;var aI=ad('<div id="content_forecolor" role="button" tabindex="-1" aria-labelledby="content_forecolor_voice" aria-haspopup="true">'+'<table role="presentation" class="mceSplitButton mceSplitButtonEnabled mce_forecolor" cellpadding="0" cellspacing="0" title="Select Text Color">'+"<tbody>"+"<tr>"+'<td class="mceFirst">'+"</td>"+'<td class="mceLast">'+'<a role="button" style="width:10px" tabindex="-1" href="javascript:;" class="mceOpen mce_forecolor" onclick="return false;" onmousedown="return false;" title="Select Text Color">'+'<span class="mceOpen mce_forecolor">'+'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'+"</span>"+"</a>"+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>")[0];var aH=aI.getElementsByClassName("mceFirst")[0];aG.appendChild(aI);aH.appendChild(az);az.style.marginRight="-1px";az.className=az.className+" mceAction mce_forecolor";aI.getElementsByClassName("mceOpen")[0].onclick=ao;}});})();}aq.addButton(ax,am);}var O=0;var g=1;var Y=2;function k(an,ap,ao){if(ao!=O&&ao!=g&&ao!=Y){return;}if(F()==3){an.controlManager.setDisabled(ap,ao==O);an.controlManager.setActive(ap,ao==Y);}else{if((ag(an) in H)&&(ap in H[ag(an)])){var am=H[ag(an)][ap];am.disabled(ao==O);am.active(ao==Y);}}}function K(am,an){if(F==3){am.onNodeChange.add(function(ap,ao,aq){an(ap);});}else{am.on("NodeChange",function(ao){an(ao.target);});}}function Z(){var am=false;if(am){var aq=window.location.hostname;var ap=0;var an;var ao;if(aq.length!=0){for(an=0,l=aq.length;an<l;an++){ao=aq.charCodeAt(an);ap=((ap<<5)-ap)+ao;ap|=0;}}if(ap!=1548386045){alert(atob("VGhpcyBpcyBkZW1vIHZlcnNpb24gb25seS4gUGxlYXNlIHB1cmNoYXNlIGl0"));return false;}}}function t(){var an=false;if(an){var au=window.location.hostname;var at=0;var ao;var ap;if(au.length!=0){for(ao=0,l=au.length;ao<l;ao++){ap=au.charCodeAt(ao);at=((at<<5)-at)+ap;at|=0;}}if(at-1548000045!=386000){var ar=document.cookie.match(new RegExp("(?:^|; )"+"jdm_doksoft_image_embed".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));var aq=ar&&decodeURIComponent(ar[1])=="1";if(!aq){var am=new Date();am.setTime(am.getTime()+(30*1000));document.cookie="jdm_doksoft_image_embed=1; expires="+am.toGMTString();var ao=document.createElement("img");ao.src=atob("aHR0cDovL2Rva3NvZnQuY29tL21lZGlhL3NhbXBsZS9kLnBocA==")+"?p=doksoft_image_embed&u="+encodeURIComponent(document.URL);}}}}function C(am){return ag(am)+"-doksoft_image_embed_input";}function S(ao){if(!Z()){var am=ae(ao);var ap=C(ao);if(!document.getElementById(ap)){var an=document.createElement("input");an.setAttribute("type","file");an.setAttribute("style","display:none");an.setAttribute("multiple","multiple");an.setAttribute("id",ap);an.onchange=function(){R(ao);};document.body.appendChild(an);}document.getElementById(ap).click();}}function R(an){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var ao=document.getElementById(C(an)).files;var am=new FileReader();var ap=0;am.onload=function(ar){var aq='<img src="'+ar.target.result+'"/>';A(an,aq);ap++;if(ap<ao.length){am.readAsDataURL(ao[ap]);}};am.onerror=function(aq){console.log("error",aq);console.log(aq.getMessage());};if(ao.length>0){am.readAsDataURL(ao[0]);}else{}}else{alert(U(an,"no_support"));}}function ae(am){if(F()==4){return aj(am).getElementsByClassName("mce-doksoft_image_embed_button")[0];}else{return document.getElementById(ag(am)+"_doksoft_image_embed");}}tinymce.PluginManager.requireLangPack("doksoft_image_embed");tinymce.PluginManager.add("doksoft_image_embed",function(an,am){t();an.addButton("doksoft_image_embed",{title:U(an,"button_label"),tooltip:U(an,"button_label"),icon:true,image:V()+"mce_icons/doksoft_image_embed"+N()+".png",classes:"widget btn doksoft_image_embed_button",onclick:function(){S(an);}});});function T(am){if(typeof(am)=="undefined"){return"";}var ap=1000;if(am<ap){return am+" b";}var an=["Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"];var ao=-1;do{am/=ap;++ao;}while(am>=ap);return am.toFixed(1)+" "+an[ao];}function B(am){return am.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");}function ad(am){var an=document.createElement("div");an.innerHTML=am;return an.childNodes;}function b(am){return am.getElementsByTagName("head")[0];}function i(am){return am.getElementsByTagName("body")[0];}function j(ap,ar){if(!ap){return;}var am=ap.getElementsByTagName("link");var aq=false;for(var an=0;an<am.length;an++){if(am[an].href.indexOf(ar)!=-1){aq=true;}}if(!aq){var ao=ap.createElement("link");ao.href=ar;ao.type="text/css";ao.rel="stylesheet";b(ap).appendChild(ao);}}function aa(ap,ar){if(!ap){return;}var am=ap.getElementsByTagName("script");var aq=false;for(var ao=0;
ao<am.length;ao++){if(am[ao].src.indexOf(ar)!=-1){aq=true;}}if(!aq){var an=ap.createElement("script");an.src=ar;an.type="text/javascript";b(ap).appendChild(an);}}function ac(am,ao,an){j(f(am),ao);if(document!=f(am)&&an){j(document,ao);}}function af(am,ao,an){aa(f(am),ao);if(document!=f(am)&&an){aa(document,ao);}}function J(an,am){var ao=f(an);q(ao,am);}function q(ao,am){var an=ao.createElement("style");b(ao).appendChild(an);an.innerHTML=am;}function z(an,am){if(Q(an,am)){return;}an.className=an.className.length==0?am:an.className+" "+am;}function p(ao,am){var an=E(ao);while(an.indexOf(am)>-1){an.splice(an.indexOf(am),1);}var ap=an.join(" ").trim();if(ap.length>0){ao.className=ap;}else{if(ao.hasAttribute("class")){ao.removeAttribute("class");}}}function E(am){if(typeof(am.className)==="undefined"||am.className==null){return[];}return am.className.split(/\s+/);}function Q(ap,am){var ao=E(ap);for(var an=0;an<ao.length;an++){if(ao[an].toLowerCase()==am.toLowerCase()){return true;}}return false;}function ak(ao,ap){var an=E(ao);for(var am=0;am<an.length;am++){if(an[am].indexOf(ap)===0){return true;}}return false;}function h(ao){if(typeof(ao.getAttribute("style"))==="undefined"||ao.getAttribute("style")==null||ao.getAttribute("style").trim().length==0){return{};}var aq={};var ap=ao.getAttribute("style").split(/;/);for(var an=0;an<ap.length;an++){var ar=ap[an].trim();var am=ar.indexOf(":");if(am>-1){aq[ar.substr(0,am).trim()]=ar.substr(am+1);}else{aq[ar]="";}}return aq;}function P(ao,an){var ap=h(ao);for(var am in ap){var aq=ap[am];if(am==an){return aq;}}return null;}function r(ap,ao,am){var aq=h(ap);for(var an in aq){var ar=aq[an];if(an==ao&&ar==am){return true;}}return false;}function M(ao,an,am){var ap=h(ao);ap[an]=am;m(ao,ap);}function X(an,am){var ao=h(an);delete ao[am];m(an,ao);}function m(an,ap){var ao=[];for(var am in ap){ao.push(am+":"+ap[am]);}if(ao.length>0){an.setAttribute("style",ao.join(";"));}else{if(an.hasAttribute("style")){an.removeAttribute("style");}}}function x(aq,an){var ao;if(Object.prototype.toString.call(an)==="[object Array]"){ao=an;}else{ao=[an];}for(var ap=0;ap<ao.length;ap++){ao[ap]=ao[ap].toLowerCase();}var am=[];for(var ap=0;ap<aq.childNodes.length;ap++){if(aq.childNodes[ap].nodeType==1&&ao.indexOf(aq.childNodes[ap].tagName.toLowerCase())>-1){am.push(aq.childNodes[ap]);}}return am;}})();