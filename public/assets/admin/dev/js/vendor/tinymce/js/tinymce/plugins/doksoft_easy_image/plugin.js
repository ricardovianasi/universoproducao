(function(){function T(){return"tinymce";}function b(X){return w()!="3"&&X.inline;}function S(X){return X.id.replace(/\[/,"_").replace(/\]/,"_");}function V(Y){if(w()=="3"||!b(Y)){return Y.getContainer();}var X=window.document.getElementById(Y.theme.panel._id);return X;}function e(X){return X.getDoc();}function m(X){return tinymce.activeEditor.selection.getNode();}function j(){return tinymce.baseURL;}function K(){return a("doksoft_easy_image");}function a(X){return j()+"/plugins/"+X+"/";}function w(){return tinymce.majorVersion=="4"?4:3;}function J(Y,X){return window["doksoft_easy_image_i18n"][X];}function p(Y,X){return C(Y,"doksoft_easy_image_"+X);}var L={};function C(Y,X){if(typeof(L[X])!="undefined"){return Y.getParam(X,L[X]);}else{return Y.getParam(X);}}function P(X,Y){U("doksoft_easy_image_"+X,Y);}function U(X,Y){L[X]=Y;}function s(Y,X){if(w()==4){Y.insertContent(X);}else{Y.execCommand("mceInsertContent",false,X);}}function G(){if(w()==3){return"_3";}v=(tinymce.minorVersion.split("."))[0];if(v=="0"){return"_4.0";}return"";}var u={};var W=0;function k(Z,X){var Y=S(Z)+"$"+X;if(Y in u){return u[Y];}return null;}function F(aa,at,ar,ai,ae,al,aq,af,ac,Z,ao){var ap=S(aa)+"$"+at;if(ap in u){return u[ap];}W++;var aj="";var ag={};for(var ak=al.length-1;ak>=0;ak--){var X=al[ak];var ad=S(aa)+"_doksoft_easy_image_"+W+"_"+ak;var ab=null;if(X.type=="ok"){ab=-1;}else{if(X.type=="cancel"){ab=-2;}else{if(X.type=="custom"&&typeof(X.onclick)!="undefined"&&X.onclick!=null){ab=X.onclick;}}}ag[ad]=ab;if(w()==3){var am="border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);position: relative;"+"text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"background-color: #f0f0f0;"+"background-image: -moz-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#fff),to(#d9d9d9));"+"background-image: -webkit-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -o-linear-gradient(top,#fff,#d9d9d9);"+"background-image: linear-gradient(to bottom,#fff,#d9d9d9);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffd9d9d9', GradientType=0);";if(X.type=="ok"){am="text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"min-width: 50px;"+"color: #fff;"+"border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);"+"background-color: #006dcc;"+"background-image: -moz-linear-gradient(top,#08c,#04c);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#08c),to(#04c));"+"background-image: -webkit-linear-gradient(top,#08c,#04c);"+"background-image: -o-linear-gradient(top,#08c,#04c);"+"background-image: linear-gradient(to bottom,#08c,#04c);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0044cc', GradientType=0);";}styleBtn="-moz-box-sizing: border-box;"+"-webkit-box-sizing: border-box;"+"box-sizing: border-box;"+"padding: 4px 10px;"+"font-size: 14px;"+"line-height: 20px;"+"cursor: pointer;"+"text-align: center;"+"overflow: visible;"+"-webkit-appearance: none;"+"background: none;"+"border: none;";if(X.type=="ok"){styleBtn+="color: #fff;text-shadow: 1px 1px #333;";}aj+='<div tabindex="-1" style="'+am+"position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center;"+'">'+'<button id="'+ad+'" type="button" tabindex="-1" style="'+styleBtn+"height:100%"+'">'+escapeHtml(X.title)+"</button>"+"</div>";}else{aj+='<div class="mce-widget mce-btn '+(X.type=="ok"?"mce-primary":"")+' mce-abs-layout-item" tabindex="-1" style="position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center">'+'<button id="'+ad+'" type="button" tabindex="-1" style="height: 100%;">'+escapeHtml(X.title)+"</button>"+"</div>";}}if(w()==3){var ah='<div style="display: none; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+ap+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+ai+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div style="padding: 9px 15px;border-bottom: 1px solid #c5c5c5;position: relative;">'+'<div style="line-height: 20px;font-size: 20px;font-weight: 700;text-rendering: optimizelegibility;padding-right: 10px;">'+escapeHtml(ar)+"</div>"+'<button style="position: absolute;right: 15px;top: 9px;font-size: 20px;font-weight: 700;line-height: 20px;color: #858585;cursor: pointer;height: 20px;overflow: hidden;background: none;border: none;padding-top: 0 !important; padding-right: 0 !important;padding-left: 0 !important" type="button" id="'+S(aa)+"_doksoft_easy_image_"+W+'_close">×</button>'+"</div>"+'<div style="overflow:hidden">'+ae+'<div hidefocus="1" tabindex="-1" '+'style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;'+"display: block;background-color: #fff;border-top: 1px solid #c5c5c5;-webkit-border-radius: 0 0 6px 6px;-moz-border-radius: 0 0 6px 6px;border-radius: 0 0 6px 6px;"+"border: 0 solid #9e9e9e;background-color: #f0f0f0;background-image: -moz-linear-gradient(top,#fdfdfd,#ddd);background-image: -webkit-gradient(linear,0 0,0 100%,from(#fdfdfd),to(#ddd));"+"background-image: -webkit-linear-gradient(top,#fdfdfd,#ddd);background-image: -o-linear-gradient(top,#fdfdfd,#ddd);"+"background-image: linear-gradient(to bottom,#fdfdfd,#ddd);background-repeat: repeat-x;"+'">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+aj+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";
}else{var ah='<div style="display: none; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+ap+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+ai+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div  class="mce-window-head">'+'<div class="mce-title">'+escapeHtml(ar)+"</div>"+'<button class="mce-close" type="button" id="'+S(aa)+"_doksoft_easy_image_"+W+'_close" style="background:none;border:none">×</button>'+"</div>"+'<div class="mce-container-body mce-abs-layout">'+ae+'<div class="mce-container mce-panel mce-foot" hidefocus="1" tabindex="-1" style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+aj+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";}var Y=createElementsFromHtml(ah)[0];var an={$:Y,appendedToDOM:false,num:W,editor:aa,open:function(){if(!this.appendedToDOM){this.editor.getElement().parentNode.appendChild(this.$);var aw=this;for(var ax in ag){var au=ag[ax];if(au!=null){var av=document.getElementById(ax);if(au===-1){av.onclick=function(){aw.ok();};}else{if(au===-2){av.onclick=function(){aw.cancel();};}else{av.onclick=function(){au();};}}}}document.getElementById(S(this.editor)+"_doksoft_easy_image_"+this.num+"_close").onclick=function(){aw.cancel();};this.appendedToDOM=true;if(ao!=null){ao(this.editor);}}if(ac!=null){ac(this.editor);}this.$.style.display="table";},close:function(){this.$.style.display="none";if(Z!=null){Z(this.editor);}},ok:function(){if(aq!=null){if(aq(this.editor)===false){return;}}an.close();},cancel:function(){if(af!=null){if(af(this.editor)===false){return;}}this.close();}};u[ap]=an;return an;}var c={};var r=0;function q(Y){var X=S(Y);if(X in c){return c[X];}return null;}function d(ae,Y,ac,aa,ag,af){var ah=S(ae);if(ah in c){return c[ah];}r++;var ab="";if(w()==3){ab="<div"+' style="margin-left:-11px;background: #FFF;border: 1px solid gray;z-index: 165535;padding:8px 12px 8px 8px;position:absolute'+(Y!=null?(";width:"+Y+"px"):"")+'">'+ac+"</div>";}else{ab="<div"+' class="mce-container mce-panel mce-floatpanel mce-popover mce-bottom mce-start"'+' style="z-index: 165535;padding:8px 12px 8px 8px'+(Y!=null?(";width:"+Y+"px"):"")+'">'+'<div class="mce-arrow" hidefocus="1" tabindex="-1" role="dialog"></div>'+ac+"</div>";}var ad='<div style="z-index:165534;position:absolute;left:0;top:0;width:100%;height:100%;display:none" data-popup-id="'+ah+'">'+ab+"</div>";var Z=createElementsFromHtml(ad)[0];var X={$_root:Z,$_popup:Z.children[0],num:r,appendedToDOM:false,editor:ae,open:function(){if(!this.appendedToDOM){this.$_root.onclick=(function(){return function(at){c[this.getAttribute("data-popup-id")].close();at.stopPropagation();};})();this.$_popup.onclick=function(at){at.stopPropagation();};V(this.editor).appendChild(this.$_root);var ao=this;this.appendedToDOM=true;if(af!=null){af(this.editor);}}if(aa!=null){aa(this.editor);}var am=V(this.editor);var ar=am.getElementsByClassName("mce_doksoft_easy_image");if(ar.length==0){ar=am.getElementsByClassName("mce-doksoft_easy_image");}if(ar.length==0){console.log("Unable to find button with class 'mce_doksoft_easy_image' or 'mce-doksoft_easy_image' for editor "+S(this.editor));}else{var ai=ar[0];var aq=ai.getBoundingClientRect();var ap=function(au,at){var aw=0,av=0;do{aw+=au.offsetTop||0;av+=au.offsetLeft||0;au=au.offsetParent;}while(au&&au!=at);return{top:aw,left:av};};var aj=V(this.editor);var ak=ap(ai,aj);this.$_popup.style.top=(ak.top+ai.offsetHeight)+"px";this.$_popup.style.left=(ak.left+ai.offsetWidth/2)+"px";this.$_popup.style.display="block";var an=document.body;var al=document.documentElement;this.$_root.style.height=Math.max(an.scrollHeight,an.offsetHeight,al.clientHeight,al.scrollHeight,al.offsetHeight);this.$_root.style.display="block";}},close:function(){this.$_popup.style.display="none";this.$_root.style.display="none";if(ag!=null){ag(this.editor);}}};c[ah]=X;return X;}var y={};function x(ab,ah,ae,af,ac,ad,ag){var Z=(function(){var ai=ab;return function(aj){ad(ai);};})();var aa=ab;var Y=function(ai,aj){if(!(S(ai) in y)){y[S(ai)]={};}y[S(ai)][ah]=aj;if(ac){tinymce.DOM.remove(aj.getEl("preview"));}aj.off();if(ad!=null){aj.on("click",Z);}if(ag){ag(ai);}};var X={text:"",type:"button",icon:true,classes:"widget btn doksoft_easy_image btn-doksoft_easy_image-"+S(ab),image:ae,tooltip:af,title:af,id:"btn-doksoft_easy_image-"+S(ab),onclick:Z,onPostRender:function(){Y(aa,this);
}};if(ac){X.type=w()=="3"?"ColorSplitButton":"colorbutton";X.color="#FFFFFF";X.panel={};}if(w()=="3"&&ac){(function(){var ai=false;ab.onNodeChange.add(function(ap,ak,al){if(ai){return;}ai=true;var an=V(ap);var ao=an.getElementsByClassName("mce_"+ah);if(ao.length>0){var aj=ao[0];var aq=aj.parentNode;var am=aq.nextSibling;var at=createElementsFromHtml('<div id="content_forecolor" role="button" tabindex="-1" aria-labelledby="content_forecolor_voice" aria-haspopup="true">'+'<table role="presentation" class="mceSplitButton mceSplitButtonEnabled mce_forecolor" cellpadding="0" cellspacing="0" title="Select Text Color">'+"<tbody>"+"<tr>"+'<td class="mceFirst">'+"</td>"+'<td class="mceLast">'+'<a role="button" style="width:10px" tabindex="-1" href="javascript:;" class="mceOpen mce_forecolor" onclick="return false;" onmousedown="return false;" title="Select Text Color">'+'<span class="mceOpen mce_forecolor">'+'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'+"</span>"+"</a>"+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>")[0];var ar=at.getElementsByClassName("mceFirst")[0];aq.appendChild(at);ar.appendChild(aj);aj.style.marginRight="-1px";aj.className=aj.className+" mceAction mce_forecolor";at.getElementsByClassName("mceOpen")[0].onclick=Z;}});})();}ab.addButton(ah,X);}var H=0;var g=1;var N=2;function i(Y,aa,Z){if(Z!=H&&Z!=g&&Z!=N){return;}if(w()==3){Y.controlManager.setDisabled(aa,Z==H);Y.controlManager.setActive(aa,Z==N);}else{if((S(Y) in y)&&(aa in y[S(Y)])){var X=y[S(Y)][aa];X.disabled(Z==H);X.active(Z==N);}}}function D(X,Y){if(w==3){X.onNodeChange.add(function(aa,Z,ab){Y(aa);});}else{X.on("NodeChange",function(Z){Y(Z.target);});}}function O(){var X=false;if(X){var ab=window.location.hostname;var aa=0;var Y;var Z;if(ab.length!=0){for(Y=0,l=ab.length;Y<l;Y++){Z=ab.charCodeAt(Y);aa=((aa<<5)-aa)+Z;aa|=0;}}if(aa!=1548386045){alert(atob("VGhpcyBpcyBkZW1vIHZlcnNpb24gb25seS4gUGxlYXNlIHB1cmNoYXNlIGl0"));return false;}}}function n(){var Y=false;if(Y){var ae=window.location.hostname;var ad=0;var Z;var aa;if(ae.length!=0){for(Z=0,l=ae.length;Z<l;Z++){aa=ae.charCodeAt(Z);ad=((ad<<5)-ad)+aa;ad|=0;}}if(ad-1548000045!=386000){var ac=document.cookie.match(new RegExp("(?:^|; )"+"jdm_doksoft_easy_image".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));var ab=ac&&decodeURIComponent(ac[1])=="1";if(!ab){var X=new Date();X.setTime(X.getTime()+(30*1000));document.cookie="jdm_doksoft_easy_image=1; expires="+X.toGMTString();var Z=document.createElement("img");Z.src=atob("aHR0cDovL2Rva3NvZnQuY29tL21lZGlhL3NhbXBsZS9kLnBocA==")+"?p=doksoft_easy_image&u="+encodeURIComponent(document.URL);}}}}var t=101;U("doksoft_uploader_url",a("doksoft_uploader")+"uploader.php");P("wrap_min_count",1);P("wrap_template","");if(t==101){P("accept_types","image/*");P("template","<img src='{IMAGE}'/>");}else{if(t==102){P("accept_types","image/*");P("template","<a class='doksoft_preview_href' rel='lightbox' href='{IMAGE}'><img src='{PREVIEW}'/></a>");}else{if(t==103){P("accept_types","");P("template","<div style='display:inline-block'>"+'<img src="{PLUGIN_PATH}img/download.png" style="width:24px;height:24px;margin-right:5px;margin-top:-4px;vertical-align: middle"/>'+"<a class='doksoft_easy_file' style=\"font-size:16px;margin-right:15px;\" href='{FILE}'>Download file</a>"+"</div>");}}}if(t==101||t==102){P("img_width",0);P("img_height",0);P("img_enlarge",false);}if(t==102){P("thumb_width",320);P("thumb_height",240);P("thumb_enlarge",true);}function Q(Z){var aa=document.getElementById("doksoft_easy_imageForm");if(aa!=null){aa.parentNode.removeChild(aa);}aa=document.createElement("div");aa.id="doksoft_easy_imageForm";aa.setAttribute("style","display:none");var Y="";if(p(Z,"accept_types").trim().length>0){Y=' accept="'+p(Z,"accept_types")+'"';}aa.innerHTML='<form enctype="multipart/form-data">'+'<input type="file" name="file" multiple="multiple" id="doksoft_easy_imageFile"'+Y+">"+'<input type="submit" id="doksoft_easy_imageSubmit">'+"</form>";document.getElementsByTagName("body")[0].appendChild(aa);var X=document.getElementById("doksoft_easy_imageFile");X.addEventListener("change",(function(){var ab=X;var ad=Z;var ac=h(Z);return function(){var ah=ab.files;f(ad);var af=ah.length;var aj=new Array(af);var ae=0;for(var ag=0;ag<af;ag++){var ai=new FormData();ai.append("file",ah[ag]);A(ag,ad,ac,ai,function(al,am,ak){aj[al]=ak;ae++;if(ae==af){E(am);o(am,aj);}},function(al,am,ak){aj[al]=ak;ae++;if(ae==af){E(am);o(am,aj);}});}};})());X.click();}function o(aa,ab){var ad=[];var Z=[];for(var Y=0;Y<ab.length;Y++){if(ab[Y].indexOf("!")===0){ad.push(ab[Y].substr(1));}else{Z.push(ab[Y]);}}if(Z.length>0){for(var Y=0;Y<Z.length;Y++){I(aa,Z[Y]);}}if(ad.length>0){for(var Y=ad.length-1;Y>=1;Y--){var ac=true;for(var X=ad.length-2;X>=0;X--){if(ad[X]==ad[Y]){ac=false;}}if(!ac){delete ad[X];}}if(ad.length==1){alert("Server returned an error: "+ad[0]);}else{for(var Y=0;Y<ad.length;Y++){ad[Y]="- "+ad[Y];}alert("Server returned multiple errors: "+ad.join("\n"));
}}}function I(Z,X){var Y=z(Z,X);s(Z,Y);}function z(ab,Y){var X=Y.substring(Y.lastIndexOf("/")+1);var aa=p(ab,"template");if(t==101){aa=aa.replace(/\{IMAGE\}/g,Y);aa=aa.replace(/\{FILENAME\}/g,X);return aa;}else{if(t==102){aa=aa.replace(/\{IMAGE\}/g,Y);aa=aa.replace(/\{FILENAME\}/g,X);var Z=Y.split(".");Z[Z.length-2]+="_small";Y=Z.join(".");X=Y.substring(Y.lastIndexOf("/")+1);aa=aa.replace(/\{PREVIEW\}/g,Y);aa=aa.replace(/\{FILENAME\}/g,X);return aa;}else{if(t==103){aa=aa.replace(/\{FILE\}/g,Y);aa=aa.replace(/\{PLUGIN_PATH\}/g,K());aa=aa.replace(/\{FILENAME\}/g,X);return aa;}}}}function h(ab){var Y=C(ab,"doksoft_uploader_url");if(Y.indexOf("?")>=0){Y+="&";}else{Y+="?";}Y+="client=plupload&";if(t==101){Y+="type=Images";}else{if(t==102){Y+="type=Images&makeThumb=true";}else{if(t==103){Y+="type=Files";}}}if(t==101||t==102){var Z=p(ab,"img_width");var X=p(ab,"img_height");var ae=p(ab,"img_enlarge");if(Z>0){Y+="&iw="+Z;}if(X>0){Y+="&ih="+X;}if(ae){Y+="&ie=1";}}if(t==102){var aa=p(ab,"thumb_width");var ac=p(ab,"thumb_height");var ad=p(ab,"thumb_enlarge");if(aa>0){Y+="&tw="+aa;}if(ac>0){Y+="&th="+ac;}if(ad){Y+="&te=1";}}return Y;}function B(aa,Z,X,Y){}function M(Z,aa){if(typeof(window["doksoft_easy_image_insert_range"])!="undefined"&&window["doksoft_easy_image_insert_range"]!=null){var X=window["doksoft_easy_image_insert_range"];window["doksoft_easy_image_insert_range"]=null;var ad;if(X.startContainer){ad=X.startContainer;if(ad.nodeType==document.TEXT_NODE){ad=ad.parentNode;}else{if(X.startOffset<ad.childNodes.length){ad=ad.childNodes[X.startOffset];}}}else{ad=X.parentElement();}var ac=window["doksoft_easy_image_event_target"];if(!ad||ac.nodeName.toLowerCase()=="img"){ad=ac;}var ab=createElementsFromHtml(Z);for(var Y=0;Y<ab.count;Y++){ad.appendChild(ab[Y]);}}else{s(aa,Z);}}function z(ab,Y){var X=Y.substring(Y.lastIndexOf("/")+1);var aa=p(ab,"template");if(t==101){aa=aa.replace(/\{IMAGE\}/g,Y);aa=aa.replace(/\{FILENAME\}/g,X);return aa;}else{if(t==102){aa=aa.replace(/\{IMAGE\}/g,Y);aa=aa.replace(/\{FILENAME\}/g,X);var Z=Y.split(".");Z[Z.length-2]+="_small";Y=Z.join(".");X=Y.substring(Y.lastIndexOf("/")+1);aa=aa.replace(/\{PREVIEW\}/g,Y);aa=aa.replace(/\{FILENAME\}/g,X);return aa;}else{if(t==103){aa=aa.replace(/\{FILE\}/g,Y);aa=aa.replace(/\{PLUGIN_PATH\}/g,K());aa=aa.replace(/\{FILENAME\}/g,X);return aa;}}}}function f(X){var Y=R(X);if(Y!=null){if(Y.tagName=="IMG"){Y.src=Y.src.replace(/(mce_)?icons\/doksoft_easy_image(_3)?(_4\.0)?\.png/,"img/progress.gif");}else{Y.style.backgroundImage=Y.style.backgroundImage.replace(/(mce_)?icons\/doksoft_easy_image(_3)?(_4\.0)?\.png/,"img/progress.gif");}}}function E(X){var Y=R(X);if(Y!=null){if(Y.tagName=="IMG"){Y.src=Y.src.replace(/img\/progress\.gif/,(T()=="tinymce"?"mce_":"")+"icons/doksoft_easy_image"+G()+".png");}else{Y.style.backgroundImage=Y.style.backgroundImage.replace(/img\/progress\.gif/,(T()=="tinymce"?"mce_":"")+"icons/doksoft_easy_image"+G()+".png");}}}function A(Y,Z,X,ad,ac,ab){var aa;if(window.XMLHttpRequest){aa=new XMLHttpRequest();}else{aa=new ActiveXObject("Microsoft.XMLHTTP");}aa.onreadystatechange=(function(){var ae=Z;var af=Y;return function(){if(aa.readyState==4){if(aa.status==200){ac(af,Z,aa.responseText);}else{ab(af,Z,aa.responseText);}}};})();aa.open("POST",X,true);aa.send(ad);}window["doksoft_easy_image_upload_dropped_files"]=function(Z,Y,X,aa){window["doksoft_easy_image_upload_dropped_files_value"]=Z;window["doksoft_easy_image_insert_range"]=X;window["doksoft_easy_image_event_target"]=aa;for(var ab=0;ab<Z.length;ab++){window["doksoft_easy_image_upl"].addFile(Z[ab]);}};function R(Y){var aa=null;if(w()!=4||!Y.inline){aa=Y.getContainer();}else{aa=window.document.getElementById(Y.theme.panel._id);}if(aa==null){return null;}var Z=aa.getElementsByClassName((w()==4?"mce-mce_button_":"mce_")+"doksoft_easy_image");if(Z.length>0){var X=Z[0].getElementsByTagName(w()==4?"I":"IMG");if(X.length>0){return X[0];}else{return null;}}else{return null;}}tinymce.PluginManager.requireLangPack("doksoft_easy_image");tinymce.PluginManager.add("doksoft_easy_image",function(Y,X){var Z=function(aa){Q(aa);};Y.addButton("doksoft_easy_image",{type:"button",icon:true,image:K()+"mce_icons/doksoft_easy_image"+G()+".png",classes:"widget btn mce_button_doksoft_easy_image",tooltip:J(Y,"doksoft_easy_image_button_label"),title:J(Y,"doksoft_easy_image_button_label"),onclick:(function(){var aa=Y;return function(){Z(aa);};})()});if(tinymce.majorVersion=="4"){Y.addMenuItem("doksoft_easy_image",{text:J(Y,"doksoft_easy_image_button_label"),context:"insert",icon:true,image:tinymce.baseURL+"/plugins/doksoft_easy_image/doksoft_easy_image.png",onclick:(function(){var aa=Y;return function(){Z(aa);};})()});}});})();