!function(a,b){var c=function(a,c){this.element=a,this.$element=b(a),this.options=c};c.prototype={defaults:{},init:function(){this.config=b.extend({},this.defaults,this.options,this.$element.data());var c=this;c.$element.on("click",function(d){d.preventDefault();var e,f=null,g=c.$element.data("url"),h=(new Date).getTime(),i=60;c.$element.data("form")?f=b(c.$element.data("form")):(f=b('<form method="GET">'),b(document.body).append(f)),f.attr("action",g),f.append(b('<input type="hidden", name="downloadToken">').val(h)),App.blockUI({cenrerY:!0,animate:!0}),f.submit(),e=a.setInterval(function(){var b=c.getCookie("downloadToken");(b==h||0==i)&&(App.unblockUI(),a.clearInterval(e),c.expireCookie("downloadToken"),i=60),i--},1e3)})},getCookie:function(a){var b=document.cookie.split(a+"=");return 2==b.length?b.pop().split(";").shift():void 0},expireCookie:function(a){document.cookie=encodeURIComponent(a)+"=deleted; expires="+new Date(0).toUTCString()}},c.defaults=c.prototype.defaults,b.fn.report=function(a){return this.each(function(){new c(this,a).init()})},a.Report=Plugin}(window,jQuery);