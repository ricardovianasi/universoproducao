!function(a,b){var c=function(a,c){this.element=a,this.$element=b(a),this.options=c};c.prototype={defaults:{},init:function(){this.config=b.extend({},this.defaults,this.options,this.$element.data());var a=this;a.$element.on("click",function(c){c.preventDefault();var d=null,e=a.$element.data("url"),f="";if(a.$element.data("form")){var d=b(a.$element.data("form"));f=d.serialize()}App.blockUI({cenrerY:!0,animate:!0}),console.log(e),b.ajax({type:"GET",url:e,data:f,success:function(b){b.error?a.erroMessage(b.error):b.report?(a.successMessage(b.report),App.unblockUI()):a.erroMessage("Erro ao gerar relatório. Por favor, tente novamente.")},error:function(){a.erroMessage("Erro ao gerar relatório. Por favor, tente novamente.")}})})},erroMessage:function(a){bootbox.dialog({message:a,title:"Atenção",buttons:{success:{label:"OK",className:"blue",callback:function(){App.unblockUI()}}}})},successMessage:function(a){var c=b("#report_result");b(".report-result-action.download",c).attr("href",a),c.modal()}},c.defaults=c.prototype.defaults,b.fn.report=function(a){return this.each(function(){new c(this,a).init()})},a.Report=Plugin}(window,jQuery);