!function(a,b){var c=function(a,c){this.element=a,this.$element=b(a),this.options=c};c.prototype={defaults:{},init:function(){this.config=b.extend({},this.defaults,this.options,this.$element.data());var a=this;console.log(a.config),a.initCheckIntens(),a.initFormActions()},initFormActions:function(){var a=this,c=b(a.config.form),d=b(".list-actions-options"),e=b(".list-actions-submit");e.on("click",function(a){a.preventDefault();var e=b('input[name="id[]"]'),f=e.filter(":checked").length;if(!f)return void bootbox.dialog({message:"Nenum item foi selecionado. É necessário efetuar a seleção de pelo menos um item da lista",title:"Atenção",buttons:{success:{label:"OK",className:"red",callback:function(){}}}});var g=d.find("option:selected");if(""==g.val())return void bootbox.dialog({message:"É necessário selecionar uma ação",title:"Atenção",buttons:{success:{label:"OK",className:"red",callback:function(){}}}});var h=b('input[name="selected"]');if("all"!=h.val()){var i=[];b('input[name="id[]"]:checked').each(function(){i.push(b(this).val())}),h.val(i.toString())}var j=c.serialize(),k=b("option:selected",d);if(k.attr("data-modal")){var l=b(k.attr("data-modal"));l&&(l.find('input[name="filter"]').val(j),l.modal())}})},initCheckIntens:function(){var a=this,c=b("input.select-all"),d=b('input[name="id[]"]'),e=!1,f=!1;c.on("ifChecked",function(){e||d.iCheck("check"),e=!1}),c.on("ifUnchecked",function(){e||d.iCheck("uncheck"),e=!1}),d.on("ifChanged",function(b){if(!f){var c=d.filter(":checked").length;a.processChecked(c)}}),b(document).on("click",".select-all-list",function(b){b.preventDefault(),d.iCheck("check"),a.processChecked(a.config.total)})},processChecked:function(a){var c=this,d=b(".list-actions-selected");b(c.config.form),b('input[name="id[]"]');if(a>0){var e=a+" itens selecionados nesta página.";a<c.config.total?(e+='<a href="#" class="select-all-list">Selecionar todos os '+c.config.total+" registros disponíveis.</a>",b('input[name="selected"]').val("")):a==c.config.total&&(e="Todos os "+c.config.total+" registros disponíveis estão selecionados.",b('input[name="selected"]').val("all")),d.html(e)}else d.text(""),b('input[name="selected"]').val("")},getCheckedValues:function(){b('input[name="id[]"]')}},c.defaults=c.prototype.defaults,b.fn.listActions=function(a){return this.each(function(){new c(this,a).init()})},a.ListActions=Plugin}(window,jQuery);