!function(a,b){var c=function(a,c){this.element=a,this.$element=b(a),this.options=c};c.prototype={defaults:{},init:function(){this.config=b.extend({},this.defaults,this.options,this.$element.data());var a=this;b(".movie-session-add",a.$element).on("click",function(c){c.preventDefault();var d=b('select[name="movie"] option:selected',a.$element);""!=d.val()&&a.addNode(d.val(),d.text())}),b(document).on("click",".movie-session-remove",function(a){a.preventDefault();var c=b(this).closest(".dd-item");c.children(".dd-handle").first().css({"border-color":"red",background:"#FFB5B5"}),c.slideUp(function(){c.remove()})}),b(".action-save").on("click",function(a){a.preventDefault(),App.blockUI({cenrerY:!0,animate:!0});var c=b(".dd").nestable("serialize"),d=b(".movie-programing-form");d.find('input[name="sessions"]').val(JSON.stringify(c))})},addNode:function(a,c){var d=this,e=b('<li class="dd-item" data-id="'+a+'">').append('<div class="item-controls"><a class="movie-session-remove" role="button">excluir</a></div>').append('<div class="dd-handle"><span class="item-title">'+c+"</span></div>");b(".dd-list",d.$element).append(e)}},c.defaults=c.prototype.defaults,b.fn.movieSession=function(a){return this.each(function(){new c(this,a).init()})},a.MovieSession=Plugin}(window,jQuery);