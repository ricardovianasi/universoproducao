!function(a,b){var c=function(a,c){this.element=a,this.$element=b(a),this.options=c};c.prototype={defaults:{},init:function(){this.config=b.extend({},this.defaults,this.options,this.$element.data());var a=this;a.$element.find(a.config.stateElement).on("change",function(c){c.preventDefault();var d=b(this).val();d&&(App.blockUI({cenrerY:!0,animate:!0}),b.ajax({type:"POST",url:a.config.url,data:"state="+d,success:function(b){b.error?a.erroMessage(b.error):(a.$element.find(a.config.cityElement).empty().append(b.cities),App.unblockUI())},error:function(){a.erroMessage("Não foi possível localizar o cep informado. Por favor, tente novamente ou informe o endereço manualmente.")}}))})},erroMessage:function(a){bootbox.dialog({message:a,title:"Atenção",buttons:{success:{label:"OK",className:"blue",callback:function(){App.unblockUI()}}}})}},c.defaults=c.prototype.defaults,b.fn.cities=function(a){return this.each(function(){new c(this,a).init()})},a.Cities=Plugin}(window,jQuery);